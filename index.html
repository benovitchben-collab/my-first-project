<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>DEMO Casino</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root{
  --bg:#0b0f1a;
  --card:#12172a;
  --neon:#00ffd5;
  --gold:#ffb700;
  --red:#ff4d4d;
  --green:#00ff88;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,Arial,sans-serif;
  background:radial-gradient(circle at top,#141a3a,var(--bg));
  color:white;
}
header{
  padding:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(0,0,0,.6);
}
.balance{color:var(--neon);font-weight:800}
.menu{
  display:flex;
  gap:8px;
  padding:10px;
}
.menu button{
  flex:1;
  padding:10px;
  border-radius:14px;
  border:none;
  background:linear-gradient(135deg,var(--gold),#ff7b00);
  font-weight:700;
}
.game{display:none;padding:16px}
.card{
  background:var(--card);
  border-radius:18px;
  padding:16px;
}
button.action{
  width:100%;
  padding:14px;
  margin-top:10px;
  border-radius:14px;
  border:none;
  font-size:16px;
  font-weight:700;
  background:linear-gradient(135deg,var(--neon),#00b3ff);
}
.result{margin-top:10px;font-weight:700}
.win{color:var(--green)}
.lose{color:var(--red)}
.reels{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:8px;
  margin:16px 0;
}
.reel{
  height:70px;
  background:#0a0f24;
  border-radius:12px;
  font-size:32px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.crashVal{
  font-size:42px;
  color:var(--neon);
}
.grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:8px;
}
.cell{
  height:60px;
  background:#0a0f24;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:26px;
}
</style>
</head>

<body>

<header>
  <div>ğŸ° DEMO Casino</div>
  <div class="balance">ğŸ’° <span id="balance">10000</span></div>
</header>

<div class="menu">
  <button onclick="show('slots')">ğŸ° Slots</button>
  <button onclick="show('crash')">ğŸš€ Crash</button>
  <button onclick="show('roulette')">ğŸ¡ Roulette</button>
  <button onclick="show('mines')">ğŸ’£ Mines</button>
</div>

<!-- SLOTS -->
<div id="slots" class="game">
  <div class="card">
    <h3>Slots</h3>
    <div class="reels" id="reels"></div>
    <button class="action" onclick="spin()">SPIN (100)</button>
    <div id="slotRes" class="result"></div>
  </div>
</div>

<!-- CRASH -->
<div id="crash" class="game">
  <div class="card">
    <h3>Crash</h3>
    <div class="crashVal" id="crashVal">1.00x</div>
    <button class="action" onclick="startCrash()">BET (100)</button>
    <button class="action" onclick="cashout()">CASHOUT</button>
    <div id="crashRes" class="result"></div>
  </div>
</div>

<!-- ROULETTE -->
<div id="roulette" class="game">
  <div class="card">
    <h3>Roulette</h3>
    <button class="action" onclick="playRoulette()">SPIN (100)</button>
    <div id="roulRes" class="result"></div>
  </div>
</div>

<!-- MINES -->
<div id="mines" class="game">
  <div class="card">
    <h3>Mines</h3>
    <div class="grid" id="grid"></div>
    <button class="action" onclick="startMines()">START (100)</button>
    <div id="mineRes" class="result"></div>
  </div>
</div>

<script>
Telegram.WebApp.expand();

/* ===== STATE ===== */
let balance = +localStorage.getItem('balance') || 10000;
let bet = 100;
let bombs = [];

/* ===== UI ===== */
function show(id){
  document.querySelectorAll('.game').forEach(g=>g.style.display='none');
  document.getElementById(id).style.display='block';
}
function update(){
  document.getElementById("balance").innerText = balance;
  localStorage.setItem('balance', balance);
}
update(); show('slots');

/* ===== SLOTS ===== */
const symbols=["ğŸ’","â­","ğŸ’","ğŸƒ","ğŸ"];
function spin(){
  if(balance < bet) return;
  balance -= bet;
  let reels=document.getElementById("reels");
  reels.innerHTML="";
  let row=[];
  for(let i=0;i<5;i++){
    let s=symbols[Math.floor(Math.random()*symbols.length)];
    row.push(s);
    let d=document.createElement("div");
    d.className="reel";
    d.innerText=s;
    reels.appendChild(d);
  }
  let win = new Set(row).size <= 2 ? bet*5 : 0;
  if(win){
    balance += win;
    slotRes.className="result win";
    slotRes.innerText="WIN +"+win;
  }else{
    slotRes.className="result lose";
    slotRes.innerText="LOSE";
  }
  update();
}

/* ===== CRASH ===== */
let cx=1,timer=null,ing=false;
function startCrash(){
  if(balance<bet||ing)return;
  balance-=bet; cx=1; ing=true; update();
  timer=setInterval(()=>{
    cx+=Math.random()*0.15;
    crashVal.innerText=cx.toFixed(2)+"x";
    if(Math.random()<0.015) boom();
  },100);
}
function cashout(){
  if(!ing)return;
  clearInterval(timer);
  let win=Math.floor(bet*cx);
  balance+=win; ing=false;
  crashRes.className="result win";
  crashRes.innerText="WIN +"+win;
  update();
}
function boom(){
  clearInterval(timer); ing=false;
  crashRes.className="result lose";
  crashRes.innerText="CRASH";
}

/* ===== ROULETTE ===== */
function playRoulette(){
  if(balance<bet)return;
  balance-=bet;
  let win=Math.random()<0.48;
  if(win){
    balance+=bet*2;
    roulRes.className="result win";
    roulRes.innerText="WIN";
  }else{
    roulRes.className="result lose";
    roulRes.innerText="LOSE";
  }
  update();
}

/* ===== MINES ===== */
function startMines(){
  if(balance<bet)return;
  balance-=bet; update();
  bombs=[];
  while(bombs.length<5){
    let b=Math.floor(Math.random()*25);
    if(!bombs.includes(b)) bombs.push(b);
  }
  grid.innerHTML="";
  for(let i=0;i<25;i++){
    let c=document.createElement("div");
    c.className="cell";
    c.onclick=()=>openCell(i,c);
    grid.appendChild(c);
  }
}
function openCell(i,c){
  if(bombs.includes(i)){
    c.innerText="ğŸ’£";
    mineRes.className="result lose";
    mineRes.innerText="BOOM";
  }else{
    c.innerText="ğŸ’";
    balance+=50;
    mineRes.className="result win";
    mineRes.innerText="+50";
    update();
  }
}
</script>

</body>
</html>
